<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="Content-Language" content="en">
<title>RFC5424 structured data parsing module (mmpstrucdata)</title></head>

<body>
<a href="rsyslog_conf_modules.html">back</a>

<h1>RFC5424 structured data parsing module (mmpstrucdata)</h1>
<p><b>Module Name:&nbsp;&nbsp;&nbsp; mmpstrucdata</b></p>
<p><b>Author: </b>Rainer Gerhards &lt;rgerhards@adiscon.com&gt;</p>
<p><b>Available since</b>: 7.5.4</p>
<p><b>Description</b>:</p>
<p>The mmpstrucdata parses RFC5424 structured data into the message
json variable tree.
<p>&nbsp;</p>

<p><b>Module Configuration Parameters</b>:</p>
<p>Currently none.
<p>&nbsp;</p>
<p><b>Action Confguration Parameters</b>:</p>
<ul>
<li><b>jsonRoot</b> - default "!"<br>
Specifies into which json container the data shall be parsed to.
</ul>

<p><b>See Also</b>
<ul>
<li><a href="http://www.rsyslog.com/howto-anonymize-messages-that-go-to-specific-files/">Howto anonymize messages that go to specific files</a>
</ul>


<p><b>Caveats/Known Bugs:</b>
<ul>
<li>this module is currently experimental; feedback is appreciated
<li>structured data with duplicate SD-IDs and SD-PARAMS is not
    properly processed
</ul>

<p><b>Samples:</b></p>
<p>In this snippet, we parse the message and emit all json variable to a file
with the message anonymized. Note that once mmpstrucdata has run, access to the 
original message is no longer possible (execept if stored in user
variables before anonymization).
<p><textarea rows="5" cols="60">module(load="mmpstrucdata")
action(type="mmpstrucdata")
template(name="jsondump" type="string" string="%msg%: %$!%\n")
action(type="omfile" file="/path/to/log" template="jsondump")
</textarea>

<p>[<a href="rsyslog_conf.html">rsyslog.conf overview</a>] [<a href="manual.html">manual 
index</a>] [<a href="http://www.rsyslog.com/">rsyslog site</a>]</p>
<p><font size="2">This documentation is part of the
<a href="http://www.rsyslog.com/">rsyslog</a> project.<br>
Copyright &copy; 2013 by <a href="http://www.gerhards.net/rainer">Rainer Gerhards</a> and
<a href="http://www.adiscon.com/">Adiscon</a>. Released under the GNU GPL 
version 3 or higher.</font></p>

</body></html>
